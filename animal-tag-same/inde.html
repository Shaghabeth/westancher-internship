<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Animal Toggles</title>
  <style>
    body {
      margin: 40px;
      background-color: #fff;
      font-family: Arial, sans-serif;
    }
    .subtitle {
      font-size: 14px;
      color: #666; /* subtle grey for the subtitle */
      margin-bottom: 8px;
    }
    .toggle-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 12px;
    }
    .toggle-item {
      display: flex;
      align-items: center;
      padding: 8px 12px;
      background-color: #e5e5e5;
      border: 1px solid #888;
      cursor: pointer;
      font-size: 14px;
      color: #333;
      border-radius: 3px;
      transition: background 0.2s, border 0.2s;
      user-select: none;
    }
    .toggle-item.selected {
      background-color: #ccc;
      border-color: #555;
    }
    .toggle-item .prefix {
      display: inline-block;
      min-width: 20px;
      padding: 2px 6px;
      margin-right: 8px;
      background-color: #fff;
      color: #333;
      font-weight: bold;
      border-radius: 3px;
      text-align: center;
    }
    .add-choice {
      font-size: 14px;
      color: #888;
      text-decoration: underline;
      cursor: pointer;
      background: none;
      border: none;
      padding: 0;
    }
  </style>
</head>
<body>

  <div class="subtitle">Choose as many as you like</div>

  <div class="toggle-grid" id="grid"></div>

  <button class="add-choice" id="addChoice">Add choice</button>

  <script>
    const animals = [
      { key: 'A', label: 'All Animal Causes' },
      { key: 'B', label: 'Elephants' },
      { key: 'C', label: 'Giraffes' },
      { key: 'D', label: 'Manatees' },
      { key: 'E', label: 'Pandas' },
      { key: 'F', label: 'Penguins' },
      { key: 'G', label: 'Polar Bears' },
      { key: 'H', label: 'Primates' },
      { key: 'I', label: 'Raptors' },
      { key: 'J', label: 'Rhinos' },
      { key: 'K', label: 'Sea Turtles' },
      { key: 'L', label: 'Sharks' },
      { key: 'M', label: 'Sloths' },
      { key: 'N', label: 'Whales & Dolphins' },
      { key: 'O', label: 'Wild Cats' },
    ];
    const selected = {};

    function render() {
      const container = document.getElementById('grid');
      container.innerHTML = '';
      animals.forEach(a => {
        const btn = document.createElement('div');
        btn.className = 'toggle-item' + (selected[a.key] ? ' selected' : '');
        btn.innerHTML = `<span class="prefix">${a.key}</span>${a.label}`;
        btn.onclick = () => toggle(a.key);
        container.appendChild(btn);
      });
    }

    function toggle(key) {
      if (key === 'A') {
        const allSel = animals.filter(a => a.key !== 'A').every(a => selected[a.key]);
        animals.forEach(a => selected[a.key] = !allSel);
      } else {
        selected[key] = !selected[key];
        selected['A'] = animals.filter(a => a.key !== 'A').every(a => selected[a.key]);
      }
      render();
    }

    document.getElementById('addChoice').onclick = () => {
      const name = prompt('New choice name:');
      if (!name) return;
      const newKey = prompt('Prefix letter:');
      if (!newKey) return;
      animals.push({ key: newKey, label: name });
      selected[newKey] = false;
      render();
    };

    // initialize
    animals.forEach(a => { selected[a.key] = false; });
    render();
  </script>

</body>
</html>
